<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smartwatch UI Pro</title>
<script src="https://cdn.tailwindcss.com"></script>

<style>
  .watch-size { width: 330px; height: 330px; }
  .smooth { transition: all 0.4s ease; }
</style>
</head>

<body id="body" class="bg-gray-900 flex items-center justify-center h-screen smooth">

<div id="watch" class="watch-size bg-black text-white rounded-full border-8 border-gray-700 shadow-2xl relative flex flex-col items-center justify-center smooth overflow-hidden">

  <!-- ANILLO DE ACTIVIDAD -->
  <svg class="absolute inset-0 w-full h-full -rotate-90">
    <circle cx="165" cy="165" r="140"
      stroke="#1f2937" stroke-width="8" fill="none"/>
    <circle id="activityRing" cx="165" cy="165" r="140"
      stroke="#22c55e" stroke-width="8" fill="none"
      stroke-dasharray="879"
      stroke-dashoffset="879"
      stroke-linecap="round"
      class="smooth"/>
  </svg>

  <!-- INDICADORES SUPERIORES -->
  <div class="absolute top-4 w-full flex justify-between px-8 text-xs">
    <span id="battery">ğŸ”‹ 100%</span>
    <span>ğŸ“¶ BT</span>
    <span id="silent">ğŸ””</span>
  </div>

  <!-- HORA -->
  <div id="hora" class="text-6xl font-bold tracking-widest z-10">
    00:00
  </div>

  <!-- FECHA -->
  <div id="fecha" class="text-sm text-gray-400 z-10"></div>

  <!-- RITMO CARDÃACO -->
  <div class="text-red-500 text-sm mt-2 flex items-center gap-1 z-10">
    â¤ï¸ <span id="ritmo">78</span> bpm
  </div>

  <!-- CLIMA -->
  <div class="text-yellow-400 text-sm z-10">
    â˜€ï¸ 26Â°C
  </div>

  <!-- PASOS -->
  <div class="text-blue-400 text-sm z-10">
    ğŸ‘Ÿ <span id="pasos">0</span> pasos
  </div>

  <!-- ICONOS -->
  <div class="absolute bottom-20 flex gap-6 text-xl z-10">
    <button onclick="feedback(this)">ğŸ’¬</button>
    <button onclick="feedback(this)">ğŸ“</button>
    <button onclick="feedback(this)">ğŸµ</button>
    <button onclick="feedback(this)">ğŸƒ</button>
  </div>

  <!-- CONTROLES -->
  <div class="absolute bottom-6 flex gap-3 text-xs z-10">
    <button onclick="activarSensores()" class="bg-green-500 px-3 py-1 rounded-lg text-white">
      Sensores
    </button>
    <button onclick="toggleModo()" class="bg-yellow-400 px-3 py-1 rounded-lg text-black">
      ğŸŒ™/â˜€ï¸
    </button>
    <button onclick="toggleSilencio()" class="bg-gray-600 px-3 py-1 rounded-lg text-white">
      ğŸ”•
    </button>
  </div>

</div>

<script>

// ================= HORA =================
function actualizarHora() {
  const ahora = new Date();
  const h = ahora.getHours().toString().padStart(2,'0');
  const m = ahora.getMinutes().toString().padStart(2,'0');
  document.getElementById("hora").textContent = `${h}:${m}`;

  const opciones = { weekday: 'long', day: 'numeric', month: 'long' };
  document.getElementById("fecha").textContent =
    ahora.toLocaleDateString('es-ES', opciones);
}
setInterval(actualizarHora, 1000);
actualizarHora();


// ================= BATERÃA =================
let bateria = 100;

function actualizarBateria(){
  const el = document.getElementById("battery");
  el.textContent = `ğŸ”‹ ${bateria}%`;

  if(bateria > 50){
    el.className = "text-green-500";
  } else if(bateria > 20){
    el.className = "text-yellow-400";
  } else {
    el.className = "text-red-500";
  }
}

setInterval(()=>{
  if(bateria > 0){
    bateria--;
    actualizarBateria();
  }
}, 30000);

actualizarBateria();


// ================= RITMO DINÃMICO =================
setInterval(()=>{
  const nuevo = 70 + Math.floor(Math.random()*15);
  document.getElementById("ritmo").textContent = nuevo;
}, 3000);


// ================= PASOS + ANILLO =================
let pasos = 0;
let ultimoMovimiento = 0;

function actualizarAnillo(){
  const porcentaje = Math.min(pasos / 10000, 1);
  const offset = 879 - (879 * porcentaje);
  document.getElementById("activityRing").style.strokeDashoffset = offset;
}

function detectarMovimiento(event){
  const acc = event.accelerationIncludingGravity;
  if(!acc) return;

  const magnitud = Math.sqrt(acc.x*acc.x + acc.y*acc.y + acc.z*acc.z);
  const ahora = Date.now();

  if(magnitud > 15 && ahora - ultimoMovimiento > 500){
    pasos++;
    document.getElementById("pasos").textContent = pasos;
    actualizarAnillo();
    ultimoMovimiento = ahora;
  }
}

function activarSensores(){
  if(typeof DeviceMotionEvent.requestPermission === 'function'){
    DeviceMotionEvent.requestPermission().then(res=>{
      if(res === 'granted'){
        window.addEventListener("devicemotion", detectarMovimiento);
      }
    });
  } else {
    window.addEventListener("devicemotion", detectarMovimiento);
  }
}


// ================= MODO DÃA / NOCHE =================
let oscuro = true;

function toggleModo(){
  const body = document.getElementById("body");
  const watch = document.getElementById("watch");

  oscuro = !oscuro;

  if(oscuro){
    body.classList.replace("bg-gray-100","bg-gray-900");
    watch.classList.replace("bg-white","bg-black");
    watch.classList.replace("text-black","text-white");
  } else {
    body.classList.replace("bg-gray-900","bg-gray-100");
    watch.classList.replace("bg-black","bg-white");
    watch.classList.replace("text-white","text-black");
  }
}


// ================= MODO SILENCIO =================
let silencio = false;

function toggleSilencio(){
  silencio = !silencio;
  const icono = document.getElementById("silent");

  if(silencio){
    icono.textContent = "ğŸ”•";
  } else {
    icono.textContent = "ğŸ””";
  }
}


// ================= MICROANIMACIÃ“N =================
function feedback(btn){
  btn.classList.add("scale-125","smooth");
  if(navigator.vibrate){
    navigator.vibrate(100);
  }
  setTimeout(()=>{
    btn.classList.remove("scale-125");
  },200);
}

</script>

</body>
</html>
